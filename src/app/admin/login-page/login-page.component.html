<form class="card"
      [formGroup]="form"
      (ngSubmit)="onSubmit()"
>
  <h2>
    Войти в панель администратора
  </h2>

  <div class="alert alert-danger"
       *ngIf="auth.error$ | async as error"
  >
    <h4>
      {{error}}
    </h4>
  </div>

  <div class="alert alert-info"
       *ngIf="message"
  >
    <h4>
      {{message}}
    </h4>
  </div>

  <div class="form-control"
       [ngClass]="{ invalid: form.get('email')!.touched && form.get('email')!.invalid }"
  >
    <label for="email">
      Email:
    </label>
    <input id="email"
           type="email"
           placeholder="Введите ваш email"
           formControlName="email"
    />
    <div class="validation"
         *ngIf="form.get('email')!.touched && form.get('email')!.invalid"
    >
      <small *ngIf="form.get('email')!.errors!.required">
        Введите значение для поля email
      </small>
      <small *ngIf="form.get('email')!.errors!.email">
        Введите корректное значение для поля email
      </small>
    </div>
  </div>

  <div class="form-control"
       [ngClass]="{ invalid: form.get('password')!.touched && form.get('password')!.invalid }"
  >
    <label for="password">
      Пароль:
    </label>
    <input id="password"
           type="password"
           placeholder="Введите ваш пароль"
           formControlName="password"
    />
    <div class="validation"
         *ngIf="form.get('password')!.touched && form.get('password')!.invalid"
    >
      <small *ngIf="form.get('password')!.errors!.required">
        Введите значение для поля пароль
      </small>
      <small *ngIf="form.get('password')!.errors!.minlength">
        Минимальная длина пароля {{form.get('password')!.errors!.minlength.requiredLength}} символов.
        Сейчас он {{form.get('password')!.errors!.minlength.actualLength}} символа.
      </small>
    </div>
  </div>

  <button class="btn btn-primary"
          type="submit"
          [disabled]="form.invalid || isSubmitted"
  >
    Войти
  </button>
</form>
